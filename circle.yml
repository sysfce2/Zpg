dependencies:
  pre:
    - |
        sudo apt-get update && sudo apt-get install -y cmake zlib1g-dev

## Customize test commands
test:
  override:
    - |
        mkdir build-Release/ && cd build-Release/
        cmake -DCMAKE_BUILD_TYPE:STRING=Release ..
        make
        make zpg_packer
    - |
        mkdir build-Debug/ && cd build-Debug/
        cmake -DCMAKE_BUILD_TYPE:STRING=Debug ..
        make
        make zpg_packer
    - |
        mkdir test_zpg && cd test_zpg
        mv ../build-Debug/zpg_packer .
        mv ../tools/test.jpg .
        mv ../tools/test.txt .
        ./zpg_packer test.zpg -C -A test.jpg
        ./zpg_packer test.zpg -A test.txt
        ./zpg_packer test.zpg -L
        rm test.txt test.jpg
        ./zpg_packer test.zpg -E test.jpg
